$js=jQuery.noConflict();$js(function(){var a;a=$js.fn.lightBox=function(a){function v(a){var b=new Date;c=null;do{var c=new Date}while(c-b<a)}function u(){var a,b;if(self.pageYOffset){b=self.pageYOffset;a=self.pageXOffset}else if(document.documentElement&&document.documentElement.scrollTop){b=document.documentElement.scrollTop;a=document.documentElement.scrollLeft}else if(document.body){b=document.body.scrollTop;a=document.body.scrollLeft}arrayPageScroll=new Array(a,b);return arrayPageScroll}function t(){var a,b;if(window.innerHeight&&window.scrollMaxY){a=window.innerWidth+window.scrollMaxX;b=window.innerHeight+window.scrollMaxY}else if(document.body.scrollHeight>document.body.offsetHeight){a=document.body.scrollWidth;b=document.body.scrollHeight}else{a=document.body.offsetWidth;b=document.body.offsetHeight}var c,d;if(self.innerHeight){if(document.documentElement.clientWidth){c=document.documentElement.clientWidth}else{c=self.innerWidth}d=self.innerHeight}else if(document.documentElement&&document.documentElement.clientHeight){c=document.documentElement.clientWidth;d=document.documentElement.clientHeight}else if(document.body){c=document.body.clientWidth;d=document.body.clientHeight}if(b<d){pageHeight=d}else{pageHeight=b}if(a<c){pageWidth=a}else{pageWidth=c}arrayPageSize=new Array(pageWidth,pageHeight,c,d);return arrayPageSize}function s(){if(b.timer)clearTimeout(b.timer);$js("#jquery-lightbox").remove();$js("#jquery-overlay").fadeOut(function(){$js("#jquery-overlay").remove()});$js("embed, object, select").css({visibility:"visible"})}function r(){if(b.imageArray.length-1>b.activeImage){objNext=new Image;objNext.src=b.imageArray[b.activeImage+1][0]}if(b.activeImage>0){objPrev=new Image;objPrev.src=b.imageArray[b.activeImage-1][0]}}function q(a){if(a==null){keycode=event.keyCode;escapeKey=27}else{keycode=a.keyCode;escapeKey=a.DOM_VK_ESCAPE}key=String.fromCharCode(keycode).toLowerCase();if(key==b.keyToClose||key=="x"||keycode==escapeKey){s()}if(key==b.keyToPrev||keycode==37){if(b.activeImage!=0){b.activeImage=b.activeImage-1;j();p()}}if(key==b.keyToNext||keycode==39){if(b.activeImage!=b.imageArray.length-1){b.activeImage=b.activeImage+1;j();p()}}}function p(){$js(document).unbind()}function o(){$js(document).keydown(function(a){q(a)})}function n(){$js("#lightbox-nav").show();if(b.activeImage==0){$js("#lightbox-nav-btnPrev").hide()}else{$js("#lightbox-nav-btnPrev").show().unbind().bind("click",function(){b.activeImage=b.activeImage-1;j();return false})}if(b.activeImage==b.imageArray.length-1){$js("#lightbox-nav-btnNext").hide()}else{$js("#lightbox-nav-btnNext").show().unbind().bind("click",function(){b.activeImage=b.activeImage+1;j();return false})}o()}function m(){$js("#lightbox-container-image-data-box").slideDown("fast");$js("#lightbox-image-details-caption").hide();if(b.imageArray[b.activeImage][1]){$js("#lightbox-image-details-caption").html(b.imageArray[b.activeImage][1]).show()}if(b.imageArray.length>1){$js("#lightbox-image-details-currentNumber").html(b.txtImage+" "+(b.activeImage+1)+" "+b.txtOf+" "+b.imageArray.length).show()}}function l(){$js("#lightbox-loading").hide();$js("#lightbox-image").fadeIn(function(){m();n()});r()}function k(a,c){var d=$js("#lightbox-container-image-box").width();var e=$js("#lightbox-container-image-box").height();var f=a+b.containerBorderSize*2;var g=c+b.containerBorderSize*2;var h=d-f;var i=e-g;$js("#lightbox-container-image-box").animate({width:f,height:g},b.containerResizeSpeed,function(){l()});if(h==0&&i==0){if($js.browser.msie){v(250)}else{v(100)}}$js("#lightbox-container-image-data-box").css({width:a});$js("#lightbox-nav-btnPrev,#lightbox-nav-btnNext").css({height:c+b.containerBorderSize*2})}function j(){$js("#lightbox-loading").show();if(b.fixedNavigation){$js("#lightbox-image,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide()}else{$js("#lightbox-image,#lightbox-nav,#lightbox-nav-btnPrev,#lightbox-nav-btnNext,#lightbox-container-image-data-box,#lightbox-image-details-currentNumber").hide()}var a=new Image;a.onload=function(){$js("#lightbox-image").attr("src",b.imageArray[b.activeImage][0]);k(a.width,a.height);a.onload=function(){}};a.src=b.imageArray[b.activeImage][0]}function i(){$js("body").append('<div id="jquery-overlay"></div><div id="jquery-lightbox"><div id="lightbox-container-image-box"><div id="lightbox-container-image"><img id="lightbox-image"><div style="" id="lightbox-nav"><a href="#" id="lightbox-nav-btnPrev"></a><a href="#" id="lightbox-nav-btnNext"></a></div><div id="lightbox-loading"><a href="#" id="lightbox-loading-link"></a></div></div></div><div id="lightbox-container-image-data-box"><div id="lightbox-container-image-data"><div id="lightbox-image-details"><span id="lightbox-image-details-caption"></span><span id="lightbox-image-details-currentNumber"></span></div><div id="lightbox-secNav"><a href="#" id="lightbox-secNav-btnClose"></a></div></div></div></div>');var a=t();$js("#jquery-overlay").css({backgroundColor:b.overlayBgColor,opacity:b.overlayOpacity,width:a[0],height:a[1]}).fadeIn();var c=u();$js("#jquery-lightbox").css({top:c[1]+a[3]/10,left:c[0]}).show();$js("#jquery-overlay,#jquery-lightbox").click(function(){s()});$js("#lightbox-loading-link,#lightbox-secNav-btnClose").click(function(){s();return false});$js(window).resize(function(){var a=t();$js("#jquery-overlay").css({width:a[0],height:a[1]});var b=u();$js("#jquery-lightbox").css({top:b[1]+a[3]/10,left:b[0]})})}function h(a,c){$js("embed, object, select").css({visibility:"hidden"});i();b.imageArray.length=0;b.activeImage=0;if(c.length==1){b.imageArray.push(new Array(a.getAttribute("href"),a.getAttribute("title")))}else{for(var d=0;d<c.length;d++){b.imageArray.push(new Array(c[d].getAttribute("href"),c[d].getAttribute("title")))}}while(b.imageArray[b.activeImage][0]!=a.getAttribute("href")){b.activeImage++}j()}function g(){b.activeImage=b.activeImage<b.imageArray.length-1?b.activeImage+1:0;j();e();if($js("#jquery-lightbox").length>0)f()}function f(){if(!b.timer){var a=function(){g()};b.timer=setTimeout(a,b.nextSlideDelay)}}function e(){if(b.timer){clearTimeout(b.timer);b.timer=false}}function d(){h(this,c);if(b.autoPlay)f();return false}var b=jQuery.extend({autoPlay:true,nextSlideDelay:7e3,timer:false,overlayBgColor:"#000",overlayOpacity:.8,fixedNavigation:false,containerBorderSize:10,containerResizeSpeed:400,txtImage:"Image",txtOf:"of",keyToClose:"c",keyToPrev:"p",keyToNext:"n",imageArray:[],activeImage:0},a);var c=this;return this.unbind("click").click(d)}})